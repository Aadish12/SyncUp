{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","displayName","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","Dashboard","setCurrentFilter","filter","document","assignedToME","u","uid","category","newFilter","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","history","useHistory","users","setUsers","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","options","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnalError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","err","useDocument","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b39efbe9.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBySNvowIzp7GT74-xJXvDW2zhp4ccziH8\",\r\n    authDomain: \"syncup-d4db2.firebaseapp.com\",\r\n    projectId: \"syncup-d4db2\",\r\n    storageBucket: \"syncup-d4db2.appspot.com\",\r\n    messagingSenderId: \"368355332386\",\r\n    appId: \"1:368355332386:web:709c9562e2ecb86de1157b\"\r\n  };\r\n\r\n// init firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// init services\r\nconst projectFirestore = firebase.firestore();\r\nconst projectAuth = firebase.auth();\r\nconst projectStorage = firebase.storage();\r\n\r\n// timestamp\r\nconst timestamp = firebase.firestore.Timestamp;\r\n\r\nexport { projectFirestore, projectAuth, projectStorage, timestamp };","import { createContext, useReducer, useEffect } from 'react';\nimport { projectAuth } from '../firebase/config';\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'LOGIN':\n\t\t\treturn { ...state, user: action.payload };\n\t\tcase 'LOGOUT':\n\t\t\treturn { ...state, user: null };\n\t\tcase 'AUTH_IS_READY':\n\t\t\treturn { user: action.payload, authIsReady: true };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const AuthContextProvider = ({ children }) => {\n\tconst [state, dispatch] = useReducer(authReducer, {\n\t\tuser: null,\n\t\tauthIsReady: false,\n\t});\n\n\tuseEffect(() => {\n\t\tconst unsub = projectAuth.onAuthStateChanged((user) => {\n\t\t\tdispatch({ type: 'AUTH_IS_READY', payload: user });\n\t\t\tunsub();\n\t\t});\n\t}, []);\n\n\tconsole.log('AuthContext state:', state);\n\n\treturn (\n\t\t<AuthContext.Provider value={{ ...state, dispatch }}>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n","import { AuthContext } from '../context/AuthContext';\nimport { useContext } from 'react';\n\nexport const useAuthContext = () => {\n\tconst context = useContext(AuthContext);\n\n\tif (!context) {\n\t\tthrow Error(\n\t\t\t'useAuthContext must be used inside an AuthContextProvider'\n\t\t);\n\t}\n\n\treturn context;\n};\n","//real time collection data\n\nimport { useEffect, useState, useRef } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nexport const useCollection = (collection, _query, _orderBy) => {\n\tconst [documents, setDocuments] = useState(null);\n\tconst [error, setError] = useState(null);\n\n\t// if we don't use a ref --> infinite loop in useEffect\n\t// _query is an array and is \"different\" on every function call\n\tconst query = useRef(_query).current;\n\tconst orderBy = useRef(_orderBy).current;\n\n\tuseEffect(() => {\n\t\tlet ref = projectFirestore.collection(collection);\n\n\t\tif (query) {\n\t\t\tref = ref.where(...query);\n\t\t}\n\t\tif (orderBy) {\n\t\t\tref = ref.orderBy(...orderBy);\n\t\t}\n\n\t\tconst unsubscribe = ref.onSnapshot(\n\t\t\t(snapshot) => {\n\t\t\t\tlet results = [];\n\t\t\t\tsnapshot.docs.forEach((doc) => {\n\t\t\t\t\tresults.push({ ...doc.data(), id: doc.id });\n\t\t\t\t});\n\n\t\t\t\t// update state\n\t\t\t\tsetDocuments(results);\n\t\t\t\tsetError(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\tsetError('could not fetch the data');\n\t\t\t}\n\t\t);\n\n\t\t// unsubscribe on unmount\n\t\treturn () => unsubscribe();\n\t}, [collection, query, orderBy]);\n\n\treturn { documents, error };\n};\n","// styles\nimport './Avatar.css';\n\nexport default function Avatar({ src }) {\n\treturn (\n\t\t<div className=\"avatar\">\n\t\t\t<img src={src} alt=\"user avatar\" />\n\t\t</div>\n\t);\n}\n","import { Link } from 'react-router-dom';\nimport Avatar from '../components/Avatar';\n\n// styles\nimport './ProjectList.css';\n\nexport default function ProjectList({ projects }) {\n\treturn (\n\t\t<div className=\"project-list\">\n\t\t\t{projects.length === 0 ? (\n\t\t\t\t<p>No projects yet!</p>\n\t\t\t) : (\n\t\t\t\tprojects.map((project) => (\n\t\t\t\t\t// firebase doc id\n\t\t\t\t\t// still need key prop\n\t\t\t\t\t<Link to={`/projects/${project.id}`} key={project.id}>\n\t\t\t\t\t\t<h4>{project.name}</h4>\n\t\t\t\t\t\t{/* dueDate was a firebase timestamp obj */}\n\t\t\t\t\t\t<p>Due by {project.dueDate.toDate().toDateString()}</p>\n\n\t\t\t\t\t\t<div className=\"assigned-to\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{project.assignedUsersList.map((user) => (\n\t\t\t\t\t\t\t\t\t<li key={user.photoURL}>\n\t\t\t\t\t\t\t\t\t\t<Avatar src={user.photoURL} />\n\t\t\t\t\t\t\t\t\t\t<h5>{user.displayName}</h5>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t))\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","const filterList = [\n\t'all',\n\t'mine',\n\t'development',\n\t'design',\n\t'marketing',\n\t'sales',\n];\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n\t//putting this currentFilter state in dashboard, as dashboard needs to pass which projects to show thru props using the state of the filter\n\t// const [currentFilter, setCurrentFilter] = useState('all');\n\n\tconst handleClick = (newFilter) => {\n\t\t// setCurrentFilter(newFilter);\tcant update this here, its in dashboard now\n\t\tchangeFilter(newFilter);\n\t};\n\n\treturn (\n\t\t<div className=\"project-filter\">\n\t\t\t<nav>\n\t\t\t\t<p>Filter by:</p>\n\t\t\t\t{filterList.map((f) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tkey={f}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleClick(f);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={currentFilter === f ? 'active' : ''}\n\t\t\t\t\t>\n\t\t\t\t\t\t{f}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</nav>\n\t\t</div>\n\t);\n}\n","import { useState } from 'react';\nimport { useCollection } from '../../hooks/useCollection';\nimport { useAuthContext } from '../../hooks/useAuthContext';\n\n// components\nimport ProjectList from '../../components/ProjectList';\nimport ProjectFilter from './ProjectFilter';\n\n// styles\nimport './Dashboard.css';\n\nexport default function Dashboard() {\n\tconst { user } = useAuthContext();\n\tconst [currentFilter, setCurrentFilter] = useState('all');\n\tconst { documents, error } = useCollection('projects');\n\n\t//will recv newFilter from ProjectFilter comp\n\tconst changeFilter = (newFilter) => {\n\t\tsetCurrentFilter(newFilter);\n\t};\n\n\t// if fn inside filter returns true, we keep that item, else remove it (for each ele)\n\t//this switch case runs for each ele\n\t// for 1st render, documents will be null while fetching, thats why added ternary check\n\tconst projects = documents\n\t\t? documents.filter((document) => {\n\t\t\t\tswitch (currentFilter) {\n\t\t\t\t\tcase 'all':\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t// this case means the proj must have an a user in assignedUsersList thats equal to the logged in user\n\t\t\t\t\tcase 'mine':\n\t\t\t\t\t\tlet assignedToME = false;\n\t\t\t\t\t\tdocument.assignedUsersList.forEach((u) => {\n\t\t\t\t\t\t\tif (user.uid === u.id) {\n\t\t\t\t\t\t\t\tassignedToME = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn assignedToME;\n\n\t\t\t\t\tcase 'development':\n\t\t\t\t\tcase 'design':\n\t\t\t\t\tcase 'sales':\n\t\t\t\t\tcase 'marketing':\n\t\t\t\t\t\t// console.log(document.category, currentFilter);\n\t\t\t\t\t\treturn document.category === currentFilter;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t  })\n\t\t: null;\n\n\treturn (\n\t\t<div>\n\t\t\t<h2 className=\"page-title\">Dashboard</h2>\n\t\t\t{error ? <p className=\"error\">{error}</p> : null}\n\t\t\t{documents ? (\n\t\t\t\t<ProjectFilter\n\t\t\t\t\tcurrentFilter={currentFilter}\n\t\t\t\t\tchangeFilter={changeFilter}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t\t{projects ? <ProjectList projects={projects} /> : null}\n\t\t</div>\n\t);\n}\n","import { useReducer, useEffect, useState } from 'react';\nimport { projectFirestore, timestamp } from '../firebase/config';\n\n//document will be the document reference\nlet initialState = {\n\tdocument: null,\n\tisPending: false,\n\terror: null,\n\tsuccess: null,\n};\n\nconst firestoreReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'IS_PENDING':\n\t\t\treturn {\n\t\t\t\tisPending: true,\n\t\t\t\tdocument: null,\n\t\t\t\tsuccess: false,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase 'ADDED_DOCUMENT':\n\t\t\treturn {\n\t\t\t\tisPending: false,\n\t\t\t\tdocument: action.payload,\n\t\t\t\tsuccess: true,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase 'DELETED_DOCUMENT':\n\t\t\treturn {\n\t\t\t\tisPending: false,\n\t\t\t\tdocument: null,\n\t\t\t\tsuccess: true,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase 'UPDATED_DOCUMENT':\n\t\t\treturn {\n\t\t\t\tisPending: false,\n\t\t\t\tdocument: action.payload,\n\t\t\t\tsuccess: true,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase 'ERROR':\n\t\t\treturn {\n\t\t\t\tisPending: false,\n\t\t\t\tdocument: null,\n\t\t\t\tsuccess: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const useFirestore = (collection) => {\n\tconst [response, dispatch] = useReducer(firestoreReducer, initialState);\n\tconst [isCancelled, setIsCancelled] = useState(false);\n\n\t// collection ref\n\tconst ref = projectFirestore.collection(collection);\n\n\t// only dispatch is not cancelled\n\tconst dispatchIfNotCancelled = (action) => {\n\t\tif (!isCancelled) {\n\t\t\tdispatch(action);\n\t\t}\n\t};\n\n\t// add a document\n\tconst addDocument = async (doc) => {\n\t\tdispatchIfNotCancelled({ type: 'IS_PENDING' });\n\n\t\ttry {\n\t\t\tconst createdAt = timestamp.fromDate(new Date());\n\t\t\tconst addedDocument = await ref.add({ ...doc, createdAt });\n\t\t\tdispatchIfNotCancelled({\n\t\t\t\ttype: 'ADDED_DOCUMENT',\n\t\t\t\tpayload: addedDocument,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tdispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n\t\t}\n\t};\n\n\t// delete a document\n\tconst deleteDocument = async (id) => {\n\t\tdispatchIfNotCancelled({ type: 'IS_PENDING' });\n\n\t\ttry {\n\t\t\tawait ref.doc(id).delete();\n\t\t\tdispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' });\n\t\t} catch (err) {\n\t\t\tdispatchIfNotCancelled({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tpayload: 'could not delete',\n\t\t\t});\n\t\t}\n\t};\n\n\t// update document\n\tconst updateDocument = async (id, updates) => {\n\t\tdispatchIfNotCancelled({ type: 'IS_PENDING' });\n\n\t\ttry {\n\t\t\t// returns ref to updated doc\n\t\t\t// ref is reference to projects collection\n\t\t\t// we only pass the fields (in an obj) we wanna update to update()\n\t\t\tconst updatedDocument = await ref.doc(id).update(updates);\n\n\t\t\tdispatchIfNotCancelled({\n\t\t\t\ttype: 'UPDATED_DOCUMENT',\n\t\t\t\tpayload: updateDocument,\n\t\t\t});\n\n\t\t\treturn updatedDocument;\n\t\t} catch (err) {\n\t\t\tdispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => setIsCancelled(true);\n\t}, []);\n\n\treturn { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { useHistory } from 'react-router-dom';\nimport { useCollection } from '../../hooks/useCollection';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useFirestore } from '../../hooks/useFirestore';\n\n// styles\nimport './Create.css';\n\nconst categories = [\n\t{ value: 'development', label: 'Development' },\n\t{ value: 'design', label: 'Design' },\n\t{ value: 'sales', label: 'Sales' },\n\t{ value: 'marketing', label: 'Marketing' },\n];\n\nexport default function Create() {\n  const history = useHistory();\n\tconst { response, addDocument } = useFirestore('projects');\n\n\tconst { documents } = useCollection('users');\n\t// each user will have value as the whole user obj, not just id, so we can use the user later to display user details\n\tconst [users, setUsers] = useState([]);\n\tconst { user } = useAuthContext();\n\n\t// form field values\n\tconst [name, setName] = useState('');\n\tconst [details, setDetails] = useState('');\n\tconst [dueDate, setDueDate] = useState('');\n\tconst [category, setCategory] = useState('');\n\tconst [assignedUsers, setAssignedUsers] = useState([]);\n\tconst [formError, setFormError] = useState(null);\n\n\t// getting all users from db\n\tuseEffect(() => {\n\t\tif (documents) {\n\t\t\tconst options = documents.map((user) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: user,\n\t\t\t\t\tlabel: user.displayName,\n\t\t\t\t};\n\t\t\t});\n\t\t\tsetUsers(options);\n\t\t}\n\t}, [documents]);\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tsetFormError(null);\n\n\t\tif (!category) {\n\t\t\tsetFormError('Please select a project category');\n\t\t\treturn;\n\t\t}\n\t\tif (assignedUsers.length < 1) {\n\t\t\tsetFormError('Please assign the project to atleast 1 user');\n\t\t\treturn;\n\t\t}\n\n\t\tconst createdBy = {\n\t\t\tdisplayName: user.displayName,\n\t\t\tphotoURL: user.photoURL,\n\t\t\tid: user.uid,\n\t\t};\n\n\t\tconst assignedUsersList = assignedUsers.map((u) => {\n\t\t\treturn {\n\t\t\t\tdisplayName: u.value.displayName,\n\t\t\t\tphotoURL: u.value.photoURL,\n\t\t\t\tid: u.value.id,\n\t\t\t};\n\t\t});\n\n\t\tconst project = {\n\t\t\tname: name,\n\t\t\tdetails: details,\n\t\t\tcategory: category.value,\n\t\t\tdueDate: timestamp.fromDate(new Date(dueDate)),\n\t\t\tcomments: [],\n\t\t\tcreatedBy: createdBy,\n\t\t\tassignedUsersList: assignedUsersList,\n\t\t};\n\n\t\t// console.log(project);\n\n\t\t//saving to projects db\n\n\t\tawait addDocument(project);\n    if (!response.error) {\n      history.push('/');\n    }\n\t};\n\n\treturn (\n\t\t<div className=\"create-form\">\n\t\t\t<h2 className=\"page-title\">Create a new Project</h2>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Project Name:</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Project Details:</span>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setDetails(e.target.value)}\n\t\t\t\t\t\tvalue={details}\n\t\t\t\t\t></textarea>\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Set due date:</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tonChange={(e) => setDueDate(e.target.value)}\n\t\t\t\t\t\tvalue={dueDate}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\n\t\t\t\t<label>\n\t\t\t\t\t<span>Project category:</span>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tonChange={(option) => setCategory(option)}\n\t\t\t\t\t\toptions={categories}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Assign to:</span>\n\t\t\t\t\t<Select\n\t\t\t\t\t\toptions={users}\n\t\t\t\t\t\tonChange={(option) => setAssignedUsers(option)}\n\t\t\t\t\t\tisMulti\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\n\t\t\t\t<button className=\"btn\">Add Project</button>\n\n\t\t\t\t{formError ? <p className=\"error\">{formError}</p> : null}\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\n\n// styles\nimport './Login.css';\n\nexport default function Login() {\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst { login, error, isPending } = useLogin();\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tlogin(email, password);\n\t};\n\n\treturn (\n\t\t//class auth-form is defined in signup.css, but these are not css modules, so styles will still apply (global)\n\t\t<form onSubmit={handleSubmit} className=\"auth-form\">\n\t\t\t<h2>Login</h2>\n\t\t\t<label>\n\t\t\t\t<span>Email:</span>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\tvalue={email}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t\t<span>Password:</span>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\tvalue={password}\n\t\t\t\t/>\n\t\t\t</label>\n\n\t\t\t{isPending ? (\n\t\t\t\t<button disabled className=\"btn\">\n\t\t\t\t\tLoading...\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<button className=\"btn\">Login</button>\n\t\t\t)}\n\t\t\t{error ? <div className=\"error\">{error}</div> : null}\n\t\t</form>\n\t);\n}\n","import { useState, useEffect } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogin = () => {\n\tconst [isCancelled, setIsCancelled] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [isPending, setIsPending] = useState(false);\n\tconst { dispatch, user } = useAuthContext();\n\n\tconst login = async (email, password) => {\n\t\tsetError(null);\n\t\tsetIsPending(true);\n\n\t\ttry {\n\t\t\t// login\n\t\t\tconst res = await projectAuth.signInWithEmailAndPassword(\n\t\t\t\temail,\n\t\t\t\tpassword\n\t\t\t);\n\n\t\t\t//update online status\n\t\t\t//doing here as user 1st needs to login, and before dispatch so it shows online on new render\n\t\t\tawait projectFirestore\n\t\t\t\t.collection('users')\n\t\t\t\t.doc(res.user.uid)\n\t\t\t\t.update({ online: true });\n\n\t\t\t// dispatch login action\n\t\t\tdispatch({ type: 'LOGIN', payload: res.user });\n\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetIsPending(false);\n\t\t\t\tsetError(null);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsPending(false);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => setIsCancelled(true);\n\t}, []);\n\n\treturn { login, isPending, error };\n};\n","import { useState } from 'react';\nimport { useSignup } from '../../hooks/useSignup';\n\n// styles\nimport './Signup.css';\n\nexport default function Signup() {\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [displayName, setDisplayName] = useState('');\n\tconst [thumbnail, setThumbnail] = useState(null);\n\tconst [thumbnalError, setThumbnailError] = useState(null);\n\tconst { signup, isPending, error } = useSignup();\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// console.log(email, password, displayName, thumbnail);\n\t\tsignup(email, password, displayName, thumbnail);\n\t};\n\n\tconst handleFileChange = (e) => {\n\t\tsetThumbnail(null);\n\n\t\t// array of files, but mul files not allowed, so 1st ele\n\t\t// when no file selected and cancel clicked, it is undefined\n\t\tlet selected = e.target.files[0];\n\t\tconsole.log(selected);\n\n\t\tif (!selected) {\n\t\t\tsetThumbnail('Please select a file');\n\t\t\treturn;\n\t\t}\n\t\t// if the type property doesnt include image\n\t\tif (!selected.type.includes('image')) {\n\t\t\tsetThumbnailError('Selected file must be an image!');\n\t\t\treturn;\n\t\t}\n\t\tif (selected.size > 100000) {\n\t\t\tsetThumbnailError('Image file size must be less than 100kb');\n\t\t\treturn;\n\t\t}\n\n\t\tsetThumbnailError(null);\n\t\tsetThumbnail(selected);\n\t\tconsole.log('Thumbnail updated');\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className=\"auth-form\">\n\t\t\t<h2>Sign up</h2>\n\t\t\t<label>\n\t\t\t\t<span>Email:</span>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\tvalue={email}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t\t<span>Password:</span>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\tvalue={password}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t\t<span>Display Name:</span>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tonChange={(e) => setDisplayName(e.target.value)}\n\t\t\t\t\tvalue={displayName}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t\t<span>Profile thumbnail:</span>\n\t\t\t\t<input required type=\"file\" onChange={handleFileChange} />\n\t\t\t</label>\n      \n\t\t\t{thumbnalError ? (\n\t\t\t\t<div className=\"error\">{thumbnalError}</div>\n\t\t\t) : null}\n\t\t\t{isPending ? (\n\t\t\t\t<button disabled className=\"btn\">\n\t\t\t\t\tLoading...\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<button className=\"btn\">Sign up</button>\n\t\t\t)}\n\t\t\t{error ? <div className=\"error\">{error}</div> : null}\n\t\t</form>\n\t);\n}\n","import { useState, useEffect } from 'react';\nimport {\n\tprojectAuth,\n\tprojectStorage,\n\tprojectFirestore,\n} from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useSignup = () => {\n\tconst [isCancelled, setIsCancelled] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [isPending, setIsPending] = useState(false);\n\tconst { dispatch } = useAuthContext();\n\n\tconst signup = async (email, password, displayName, thumbnail) => {\n\t\tsetError(null);\n\t\tsetIsPending(true);\n\n\t\ttry {\n\t\t\t// signup\n\t\t\tconst res = await projectAuth.createUserWithEmailAndPassword(\n\t\t\t\temail,\n\t\t\t\tpassword\n\t\t\t);\n\n\t\t\t//network err\n\t\t\tif (!res) {\n\t\t\t\tthrow new Error('Could not complete signup');\n\t\t\t}\n\n\t\t\t// upload user thumbnail\n\n\t\t\t//if folder doesnt exist on firebase storage, automatically creates one\n\t\t\t//every user has their own folder, named after their uid. The file stored there will be named after its own name (thumbnail.name) (its not folder name at end)\n\t\t\tconst uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n\t\t\t// ref() takes reference to where we wanna store our file, i.e, the path. we pass the file to put there in put()\n\t\t\tconst img = await projectStorage.ref(uploadPath).put(thumbnail);\n\n\t\t\t// the img we uploaded gets a url assigned to it for our use\n\t\t\t// img.ref gets us reference to that img in storage\n\t\t\tconst imgUrl = await img.ref.getDownloadURL();\n\n\t\t\t// add display name and profile photo to user (supported by firebase)\n\t\t\tawait res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n\t\t\t// create a user document (to display all user statuses)\n\n\t\t\t//not using add() as it creates id automatically, but here we want id of doc == uid (of this user). doc() takes id of a doc, and we're passing uid, so it'll create reference to that doc with id = uid\n\t\t\t// projectFirestore.collection('users').doc(res.user.uid) makes the reference, set(), sets the properties of the doc (and thus create it)\n\t\t\tawait projectFirestore.collection('users').doc(res.user.uid).set({\n\t\t\t\tonline: true,\n\t\t\t\tdisplayName: displayName,\n\t\t\t\tphotoURL: imgUrl,\n\t\t\t});\n\n\t\t\t// dispatch login action\n\t\t\tdispatch({ type: 'LOGIN', payload: res.user });\n\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetIsPending(false);\n\t\t\t\tsetError(null);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsPending(false);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => setIsCancelled(true);\n\t}, []);\n\n\treturn { signup, error, isPending };\n};\n","import Avatar from '../../components/Avatar';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useHistory } from 'react-router-dom';\n\nexport default function ProjectSummary({ project }) {\n\tconst { deleteDocument } = useFirestore('projects');\n\tconst { user } = useAuthContext();\n\tconst history = useHistory();\n\n\tconst handleClick = (e) => {\n\t\tdeleteDocument(project.id);\n\n\t\t// redirecting before doc is deleted, it doesnt matter here rn\n\t\thistory.push('/');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"project-summary\">\n\t\t\t\t<h2 className=\"page-title\">{project.name}</h2>\n\t\t\t\t<p>By {project.createdBy.displayName} </p>\n\t\t\t\t<p className=\"due-date\">\n\t\t\t\t\tProject due by {project.dueDate.toDate().toDateString()}\n\t\t\t\t</p>\n\t\t\t\t<p className=\"details\">{project.details}</p>\n\t\t\t\t<h4>Project is assigned to:</h4>\n\t\t\t\t<div className=\"assigned-users\">\n\t\t\t\t\t{project.assignedUsersList.map((user) => (\n\t\t\t\t\t\t<div key={user.id}>\n\t\t\t\t\t\t\t<Avatar src={user.photoURL} />\n\t\t\t\t\t\t\t<h5>{user.displayName}</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* shud do this check on backend as well to make it secure */}\n\t\t\t{user.uid === project.createdBy.id ? (\n\t\t\t\t<button className=\"btn\" onClick={handleClick}>\n\t\t\t\t\tMark as Complete (Delete)\n\t\t\t\t</button>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n","import { useState } from 'react';\nimport Avatar from '../../components/Avatar';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useFirestore } from '../../hooks/useFirestore';\n\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\n\nexport default function ProjectComments({ project }) {\n\tconst { updateDocument, response } = useFirestore('projects');\n\tconst [newComment, setNewComment] = useState('');\n\tconst { user } = useAuthContext();\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t//createdAt field here as we are not adding a new document (Add a new document adds createdAt field in useFireStore hook), we're updating a doc (comments array)\n\t\t// for keys: https://codeburst.io/how-to-not-react-common-anti-patterns-and-gotchas-in-react-40141fe0dcd#76bd\n\t\t// math.random will generate new random no. each time so comp will be rendered again each time, so its not ideal\n\t\tconst commentToAdd = {\n\t\t\tdisplayName: user.displayName,\n\t\t\tphotoURL: user.photoURL,\n\t\t\tcontent: newComment,\n\t\t\tcreatedAt: timestamp.fromDate(new Date()),\n\t\t\tid: Math.random(),\n\t\t};\n\t\t// console.log(commentToAdd);\n\n\t\tawait updateDocument(project.id, {\n\t\t\tcomments: [...project.comments, commentToAdd],\n\t\t});\n\n\t\tif (!response.error) {\n\t\t\tsetNewComment('');\n\t\t}\n\t};\n\n\treturn (\n\t\t// project collection has real time listener set to it, so when new comment is added, we get new project collection (see Project -> useDocument)\n\t\t<div className=\"project-comments\">\n\t\t\t<h4>Project Comments</h4>\n\n\t\t\t<ul>\n\t\t\t\t{project.comments.length > 0 ? (\n\t\t\t\t\tproject.comments.map((comment) => (\n\t\t\t\t\t\t<li key={comment.id}>\n\t\t\t\t\t\t\t<div className=\"comment-author\">\n\t\t\t\t\t\t\t\t<Avatar src={comment.photoURL} />\n\t\t\t\t\t\t\t\t<p>{comment.displayName}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"comment-date\">\n\t\t\t\t\t\t\t\t{/* 1st arg is date obj, from where we wanna calc distance to now, 2nd arg is options */}\n\t\t\t\t\t\t\t\t{/* addsuffix adds a word at end (2 days -> 2 days ago) */}\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{formatDistanceToNow(\n\t\t\t\t\t\t\t\t\t\tcomment.createdAt.toDate(),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\taddSuffix: true,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"comment-content\">\n\t\t\t\t\t\t\t\t<p>{comment.content}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<p>No comments here</p>\n\t\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t<form className=\"add-comment\" onSubmit={handleSubmit}>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Add new comment:</span>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetNewComment(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={newComment}\n\t\t\t\t\t></textarea>\n\t\t\t\t</label>\n\t\t\t\t<button className=\"btn\">Add Comment</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import { useParams } from 'react-router-dom';\nimport { useDocument } from '../../hooks/useDocument';\nimport ProjectSummary from './ProjectSummary';\n\n// styles\nimport './Project.css';\nimport ProjectComments from './ProjectComments';\n\nexport default function Project() {\n\tconst { id } = useParams();\n\t// there is a real time listener or the projects collection, so whenever the document updates (comment added), we get the new doc \n\tconst { error, document } = useDocument('projects', id);\n\n\t//just a different way of showing error and loading\n\tif (error) {\n\t\treturn <div className=\"error\">{error}</div>;\n\t}\n\tif (!document) {\n\t\treturn <div className=\"loading\">Loading...</div>;\n\t}\n\n\treturn (\n\t\t<div className=\"project-details\">\n\t\t\t<ProjectSummary project={document} />\n\t\t\t<ProjectComments project={document} />\n\t\t</div>\n\t);\n}\n","//real time document data\n\nimport { useEffect, useState } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nexport const useDocument = (collection, id) => {\n\tconst [document, setDocument] = useState(null);\n\tconst [error, setError] = useState(null);\n\n\t// realtime data for the document\n\tuseEffect(() => {\n\t\t// ref to document with id\n\t\tconst ref = projectFirestore.collection(collection).doc(id);\n\n\t\tconst unsub = ref.onSnapshot(\n\t\t\t(snapshot) => {\n\t\t\t\t// if we have data, then update states. we can receive empty obj as well when id is wrong\n\t\t\t\tif (snapshot.data()) {\n\t\t\t\t\t// console.log(snapshot.data());\n\t\t\t\t\tsetDocument({ ...snapshot.data(), id: snapshot.id });\n\t\t\t\t\tsetError(null);\n\t\t\t\t} else {\n\t\t\t\t\tsetError('No such documents exists!');\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconsole.log('Err in onSnapshot in useDocument:', err.message);\n\t\t\t\tsetError('Failed to get document');\n\t\t\t}\n\t\t);\n\n\t\treturn () => {\n\t\t\tunsub();\n\t\t};\n\t}, [collection, id]);\n\n\treturn { document, error };\n};\n","import { useEffect, useState } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogout = () => {\n\tconst [isCancelled, setIsCancelled] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [isPending, setIsPending] = useState(false);\n\tconst { dispatch, user } = useAuthContext();\n\n\tconst logout = async () => {\n\t\tsetError(null);\n\t\tsetIsPending(true);\n\n\t\ttry {\n\t\t\t//update online status\n\n\t\t\t// doing this before signing out as only current user can access their own document\n\t\t\t//can also get uid using projectAuth.currentUser\n\t\t\t//each user has uid property, so destructuring it from user\n\t\t\tconst { uid } = user;\n\t\t\t// id of doc == uid\n\t\t\tawait projectFirestore\n\t\t\t\t.collection('users')\n\t\t\t\t.doc(uid)\n\t\t\t\t.update({ online: false });\n\n\t\t\t// sign the user out\n\t\t\tawait projectAuth.signOut();\n\n\t\t\t// dispatch logout action\n\t\t\tdispatch({ type: 'LOGOUT' });\n\n\t\t\t// update state\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetIsPending(false);\n\t\t\t\tsetError(null);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (!isCancelled) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsPending(false);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => setIsCancelled(true);\n\t}, []);\n\n\treturn { logout, error, isPending };\n};\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { NavLink } from 'react-router-dom';\nimport { useLogout } from '../hooks/useLogout';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n// styles & images\nimport './Navbar.css';\nimport Temple from '../assets/temple.svg';\n\nexport default function Navbar() {\n\tconst { logout, isPending } = useLogout();\n\tconst { user } = useAuthContext();\n\n\treturn (\n\t\t<nav className=\"navbar\">\n\t\t\t<ul>\n\t\t\t\t<li className=\"logo\">\n\t\t\t\t\t<img src={Temple} alt=\"SyncUp logo\" />\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NavLink to=\"/\">\n\t\t\t\t\t\t\t<span className=\"highlight-1\">Sync</span>\n\t\t\t\t\t\t\t<span className=\"highlight-2\">Up</span>\n\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t<div className=\"lil\">Manage projects in your team</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t{/* <Navlink to=\"/\">SyncU</Navlink> */}\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\n\t\t\t\t{user ? (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t{isPending ? (\n\t\t\t\t\t\t\t<button className=\"btn\" disabled>\n\t\t\t\t\t\t\t\tLogging out...\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button className=\"btn\" onClick={logout}>\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink to=\"/login\">Login</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink to=\"/signup\">Signup</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{/* <>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<NavLink to=\"/login\">Login</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<NavLink to=\"/signup\">Signup</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t</>\n\t\t\t\t<li>\n\t\t\t\t\t{isPending ? (\n\t\t\t\t\t\t<button className=\"btn\" disabled>\n\t\t\t\t\t\t\tLogging out...\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className=\"btn\" onClick={logout}>\n\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)} */}\n\t\t\t\t{/* </li> */}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from 'react-router-dom';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n// styles & images\nimport './Sidebar.css';\nimport DashboardIcon from '../assets/dashboard_icon.svg';\nimport AddIcon from '../assets/add_icon.svg';\nimport Avatar from './Avatar';\n\nexport default function Sidebar() {\n\tconst {user} = useAuthContext();\n\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<div className=\"sidebar-content\">\n\t\t\t\t<div className=\"user\">\n\t\t\t\t\t<Avatar src={user.photoURL} />\n\t\t\t\t\t<p>Hey {user.displayName}</p>\n\t\t\t\t</div>\n\t\t\t\t<nav className=\"links\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t\t\t<img src={DashboardIcon} alt=\"dashboard icon\" />\n\t\t\t\t\t\t\t\t<span>Dashboard</span>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink to=\"/create\">\n\t\t\t\t\t\t\t\t<img src={AddIcon} alt=\"add project icon\" />\n\t\t\t\t\t\t\t\t<span>New Project</span>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { useCollection } from '../hooks/useCollection';\n\n// components\nimport Avatar from './Avatar';\n\n// styles\nimport './OnlineUsers.css';\n\nexport default function OnlineUsers() {\n\tconst { isPending, error, documents } = useCollection('users');\n\n\treturn (\n\t\t<div className=\"user-list\">\n\t\t\t<h2>All Users</h2>\n\t\t\t{isPending ? <div>Loading users...</div> : null}\n\t\t\t{error ? <div>{error}</div> : null}\n\t\t\t{documents\n\t\t\t\t? documents.map((user) => (\n\t\t\t\t\t\t// firebase document id = user.id which we added manually (see useCollection)\n\t\t\t\t\t\t<div key={user.id} className=\"user-list-item\">\n\t\t\t\t\t\t\t{user.online ? (\n\t\t\t\t\t\t\t\t<span className=\"online-user\"></span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"offline-user\"></span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span>{user.displayName}</span>\n\t\t\t\t\t\t\t<Avatar src={user.photoURL} />\n\t\t\t\t\t\t</div>\n\t\t\t\t  ))\n\t\t\t\t: null}\n\t\t</div>\n\t);\n}\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// styles\nimport './App.css';\n\n// pages & components\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Project from './pages/project/Project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\n\n/*\npages we need\n\n  dashboard\n  login\n  signup\n  create projects page\n  project (project details)\n */\n\nfunction App() {\n\tconst { user, authIsReady } = useAuthContext();\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{authIsReady ? (\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t{user ? <Sidebar /> : null}\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path=\"/create\">\n\t\t\t\t\t\t\t\t{user ? <Create /> : <Redirect to=\"/login\" />}\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path=\"/projects/:id\">\n\t\t\t\t\t\t\t\t{user ? <Project /> : <Redirect to=\"/login\" />}\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t\t\t{!user ? <Login /> : <Redirect to=\"/\" />}\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path=\"/signup\">\n\t\t\t\t\t\t\t\t{!user ? <Signup /> : <Redirect to=\"/\" />}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{user ? <OnlineUsers /> : null}\n\t\t\t\t</BrowserRouter>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<AuthContextProvider>\n\t\t\t<App />\n\t\t</AuthContextProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}